<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyCast - Real-Time Weather Forecast</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .weather-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .dark .gradient-bg {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
        }
        
        .weather-icon {
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen gradient-bg transition-all duration-300">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center mb-8">
            <div class="flex items-center mb-4 md:mb-0">
                <i class="fas fa-cloud-sun text-4xl text-white mr-3"></i>
                <h1 class="text-3xl font-bold text-white">SkyCast</h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <input 
                        type="text" 
                        id="locationInput"
                        placeholder="Search city or zip code..."
                        class="pl-4 pr-12 py-3 rounded-full bg-white/20 backdrop-blur-md text-white placeholder-white/70 border border-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 w-64"
                    >
                    <button onclick="searchWeather()" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-white hover:text-blue-200 transition-colors">
                        <i class="fas fa-search text-lg"></i>
                    </button>
                </div>
                
                <button onclick="getCurrentLocation()" class="p-3 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/30 transition-all">
                    <i class="fas fa-location-arrow"></i>
                </button>
                
                <button onclick="toggleDarkMode()" class="p-3 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/30 transition-all">
                    <i class="fas fa-moon" id="darkModeIcon"></i>
                </button>
                <button onclick="logoutUser()" 
    class="px-4 py-2 rounded-full bg-red-500/80 text-white font-medium hover:bg-red-600 transition-all">
    Logout
</button>

            </div>
        </header>

        <!-- Loading State -->
        <div id="loadingState" class="hidden text-center py-20">
            <div class="loading-spinner mx-auto mb-4"></div>
            <p class="text-white text-lg">Fetching weather data...</p>
        </div>

        <!-- Error State -->
        <div id="errorState" class="hidden text-center py-20">
            <i class="fas fa-exclamation-triangle text-6xl text-red-300 mb-4"></i>
            <p class="text-white text-lg mb-4">Unable to fetch weather data</p>
            <button onclick="retryWeather()" class="px-6 py-3 bg-white/20 backdrop-blur-md text-white rounded-full hover:bg-white/30 transition-all">
                Try Again
            </button>
        </div>

        <!-- Main Weather Content -->
        <div id="weatherContent" class="hidden">
            <!-- Current Weather -->
            <div class="weather-card rounded-3xl p-8 mb-8 slide-in">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="text-center md:text-left mb-6 md:mb-0">
                        <div class="flex items-center justify-center md:justify-start mb-2">
                            <i class="fas fa-map-marker-alt text-white/70 mr-2"></i>
                            <span id="currentLocation" class="text-white/90 text-lg">Loading...</span>
                        </div>
                        <div class="flex items-center justify-center md:justify-start mb-4">
                            <span id="currentTemp" class="text-6xl font-light text-white mr-4">--¬∞</span>
                            <div class="text-center">
                                <div id="weatherIcon" class="text-5xl mb-2">üå§Ô∏è</div>
                                <span id="weatherDescription" class="text-white/90 capitalize">Loading...</span>
                            </div>
                        </div>
                        <p class="text-white/70 text-lg">Feels like <span id="feelsLike">--¬∞</span></p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6 text-center">
                        <div class="weather-card rounded-2xl p-4">
                            <i class="fas fa-tint text-blue-300 text-2xl mb-2"></i>
                            <p class="text-white/70 text-sm">Humidity</p>
                            <p id="humidity" class="text-white text-xl font-semibold">--%</p>
                        </div>
                        <div class="weather-card rounded-2xl p-4">
                            <i class="fas fa-wind text-green-300 text-2xl mb-2"></i>
                            <p class="text-white/70 text-sm">Wind Speed</p>
                            <p id="windSpeed" class="text-white text-xl font-semibold">-- km/h</p>
                        </div>
                        <div class="weather-card rounded-2xl p-4">
                            <i class="fas fa-thermometer-half text-orange-300 text-2xl mb-2"></i>
                            <p class="text-white/70 text-sm">Pressure</p>
                            <p id="pressure" class="text-white text-xl font-semibold">-- hPa</p>
                        </div>
                        <div class="weather-card rounded-2xl p-4">
                            <i class="fas fa-eye text-purple-300 text-2xl mb-2"></i>
                            <p class="text-white/70 text-sm">Visibility</p>
                            <p id="visibility" class="text-white text-xl font-semibold">-- km</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hourly Forecast -->
            <div class="weather-card rounded-3xl p-6 mb-8 slide-in">
                <h2 class="text-2xl font-semibold text-white mb-6 flex items-center">
                    <i class="fas fa-clock mr-3"></i>
                    24-Hour Forecast
                </h2>
                <div id="hourlyForecast" class="flex overflow-x-auto space-x-4 pb-4">
                    <!-- Hourly items will be populated by JavaScript -->
                </div>
            </div>

            <!-- 7-Day Forecast -->
            <div class="weather-card rounded-3xl p-6 mb-8 slide-in">
                <h2 class="text-2xl font-semibold text-white mb-6 flex items-center">
                    <i class="fas fa-calendar-week mr-3"></i>
                    7-Day Forecast
                </h2>
                <div id="weeklyForecast" class="space-y-4">
                    <!-- Weekly items will be populated by JavaScript -->
                </div>
            </div>

            <!-- Additional Info -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="weather-card rounded-3xl p-6 slide-in">
                    <h3 class="text-xl font-semibold text-white mb-4 flex items-center">
                        <i class="fas fa-sun text-yellow-300 mr-3"></i>
                        Sun & Moon
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-white/70">Sunrise</span>
                            <span id="sunrise" class="text-white">--:--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">Sunset</span>
                            <span id="sunset" class="text-white">--:--</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">UV Index</span>
                            <span id="uvIndex" class="text-white">--</span>
                        </div>
                    </div>
                </div>
                
                <div class="weather-card rounded-3xl p-6 slide-in">
                    <h3 class="text-xl font-semibold text-white mb-4 flex items-center">
                        <i class="fas fa-thermometer-quarter text-blue-300 mr-3"></i>
                        Temperature Range
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-white/70">Today's High</span>
                            <span id="tempMax" class="text-white">--¬∞</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">Today's Low</span>
                            <span id="tempMin" class="text-white">--¬∞</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">Air Quality</span>
                            <span id="airQuality" class="text-white">Good</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center text-white/70 py-6">
            <p>&copy; 2024 SkyCast. Weather data provided by OpenWeatherMap API.</p>
            <div class="mt-2 space-x-4">
                <a href="#" class="hover:text-white transition-colors">About</a>
                <a href="#" class="hover:text-white transition-colors">Contact</a>
                <a href="#" class="hover:text-white transition-colors">API Info</a>
            </div>
        </footer>
    </div>

    <script>
        // Weather API configuration (using demo data for this example)
        const API_KEY = 'demo_key'; // In real implementation, use your OpenWeatherMap API key
        let currentUnit = 'metric'; // metric for Celsius, imperial for Fahrenheit
        let isDarkMode = false;

        // Weather icon mapping
        const weatherIcons = {
            '01d': '‚òÄÔ∏è', '01n': 'üåô', '02d': '‚õÖ', '02n': '‚òÅÔ∏è',
            '03d': '‚òÅÔ∏è', '03n': '‚òÅÔ∏è', '04d': '‚òÅÔ∏è', '04n': '‚òÅÔ∏è',
            '09d': 'üåßÔ∏è', '09n': 'üåßÔ∏è', '10d': 'üå¶Ô∏è', '10n': 'üåßÔ∏è',
            '11d': '‚õàÔ∏è', '11n': '‚õàÔ∏è', '13d': '‚ùÑÔ∏è', '13n': '‚ùÑÔ∏è',
            '50d': 'üå´Ô∏è', '50n': 'üå´Ô∏è'
        };

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            getCurrentLocation();
            
            // Add enter key support for search
            document.getElementById('locationInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchWeather();
                }
            });
        });
        
        function logoutUser() {
    alert("You have been logged out!");
    // Add any additional logout logic here, such as:
    // window.location.href = "login.html";
}

        // Get user's current location
        function getCurrentLocation() {
            if (navigator.geolocation) {
                showLoading();
                navigator.geolocation.getCurrentPosition(
                    position => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        fetchWeatherByCoords(lat, lon);
                    },
                    error => {
                        console.log('Geolocation error:', error);
                        // Fallback to demo data for Delhi
                        loadDemoWeatherData();
                    }
                );
            } else {
                loadDemoWeatherData();
            }
        }

        // Search weather by city name
        function searchWeather() {
            const location = document.getElementById('locationInput').value.trim();
            if (location) {
                showLoading();
                // In real implementation, this would call the API
                // For demo, we'll load sample data
                setTimeout(() => {
                    loadDemoWeatherData(location);
                }, 1000);
            }
        }

        // Fetch weather by coordinates (demo implementation)
        function fetchWeatherByCoords(lat, lon) {
            // In real implementation, this would make API calls to OpenWeatherMap
            setTimeout(() => {
                loadDemoWeatherData();
            }, 1000);
        }

        // Load demo weather data
        function loadDemoWeatherData(cityName = 'Delhi') {
            const demoData = {
                location: cityName,
                current: {
                    temp: 27,
                    feelsLike: 29,
                    description: 'partly cloudy',
                    icon: '02d',
                    humidity: 54,
                    windSpeed: 8,
                    pressure: 1013,
                    visibility: 10,
                    uvIndex: 6,
                    tempMax: 31,
                    tempMin: 22
                },
                hourly: [
                    { time: '2PM', temp: 27, icon: '01d' },
                    { time: '3PM', temp: 28, icon: '01d' },
                    { time: '4PM', temp: 29, icon: '02d' },
                    { time: '5PM', temp: 28, icon: '09d' },
                    { time: '6PM', temp: 26, icon: '09d' },
                    { time: '7PM', temp: 25, icon: '02n' },
                    { time: '8PM', temp: 24, icon: '01n' },
                    { time: '9PM', temp: 23, icon: '01n' }
                ],
                weekly: [
                    { day: 'Today', high: 31, low: 22, icon: '02d', desc: 'Partly Cloudy' },
                    { day: 'Tomorrow', high: 33, low: 24, icon: '01d', desc: 'Sunny' },
                    { day: 'Wednesday', high: 29, low: 20, icon: '09d', desc: 'Light Rain' },
                    { day: 'Thursday', high: 31, low: 23, icon: '10d', desc: 'Scattered Showers' },
                    { day: 'Friday', high: 28, low: 21, icon: '02d', desc: 'Partly Cloudy' },
                    { day: 'Saturday', high: 30, low: 22, icon: '01d', desc: 'Sunny' },
                    { day: 'Sunday', high: 32, low: 25, icon: '01d', desc: 'Sunny' }
                ],
                sunrise: '06:15',
                sunset: '18:45'
            };

            displayWeatherData(demoData);
            hideLoading();
        }

        // Display weather data
        function displayWeatherData(data) {
            // Current weather
            document.getElementById('currentLocation').textContent = data.location;
            document.getElementById('currentTemp').textContent = `${data.current.temp}¬∞C`;
            document.getElementById('weatherIcon').textContent = weatherIcons[data.current.icon] || 'üå§Ô∏è';
            document.getElementById('weatherDescription').textContent = data.current.description;
            document.getElementById('feelsLike').textContent = `${data.current.feelsLike}¬∞C`;
            document.getElementById('humidity').textContent = `${data.current.humidity}%`;
            document.getElementById('windSpeed').textContent = `${data.current.windSpeed} km/h`;
            document.getElementById('pressure').textContent = `${data.current.pressure} hPa`;
            document.getElementById('visibility').textContent = `${data.current.visibility} km`;
            document.getElementById('uvIndex').textContent = data.current.uvIndex;
            document.getElementById('tempMax').textContent = `${data.current.tempMax}¬∞C`;
            document.getElementById('tempMin').textContent = `${data.current.tempMin}¬∞C`;
            document.getElementById('sunrise').textContent = data.sunrise;
            document.getElementById('sunset').textContent = data.sunset;

            // Hourly forecast
            const hourlyContainer = document.getElementById('hourlyForecast');
            hourlyContainer.innerHTML = data.hourly.map(hour => `
                <div class="flex-shrink-0 text-center p-4 weather-card rounded-2xl min-w-[100px]">
                    <p class="text-white/70 text-sm mb-2">${hour.time}</p>
                    <div class="text-3xl mb-2">${weatherIcons[hour.icon] || 'üå§Ô∏è'}</div>
                    <p class="text-white font-semibold">${hour.temp}¬∞</p>
                </div>
            `).join('');

            // Weekly forecast
            const weeklyContainer = document.getElementById('weeklyForecast');
            weeklyContainer.innerHTML = data.weekly.map(day => `
                <div class="flex items-center justify-between p-4 weather-card rounded-2xl">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">${weatherIcons[day.icon] || 'üå§Ô∏è'}</div>
                        <div>
                            <p class="text-white font-semibold">${day.day}</p>
                            <p class="text-white/70 text-sm">${day.desc}</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-white font-semibold">${day.high}¬∞</p>
                        <p class="text-white/70">${day.low}¬∞</p>
                    </div>
                </div>
            `).join('');
        }

        // Show loading state
        function showLoading() {
            document.getElementById('loadingState').classList.remove('hidden');
            document.getElementById('weatherContent').classList.add('hidden');
            document.getElementById('errorState').classList.add('hidden');
        }

        // Hide loading state
        function hideLoading() {
            document.getElementById('loadingState').classList.add('hidden');
            document.getElementById('weatherContent').classList.remove('hidden');
            document.getElementById('errorState').classList.add('hidden');
        }

        // Show error state
        function showError() {
            document.getElementById('loadingState').classList.add('hidden');
            document.getElementById('weatherContent').classList.add('hidden');
            document.getElementById('errorState').classList.remove('hidden');
        }

        // Retry weather fetch
        function retryWeather() {
            getCurrentLocation();
        }

        // Toggle dark mode
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark');
            const icon = document.getElementById('darkModeIcon');
            icon.className = isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
        }

        // Temperature unit conversion (for future enhancement)
        function toggleUnit() {
            currentUnit = currentUnit === 'metric' ? 'imperial' : 'metric';
            // Refresh weather data with new unit
            getCurrentLocation();
        }
    </script>
</body>
</html>
